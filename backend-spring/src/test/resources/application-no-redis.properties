# =========================================
# Redis 장애 시 Fallback 테스트 설정
# Redis 완전 비활성화 및 H2 전용 환경
# =========================================

# =========================================
# H2 데이터베이스 설정
# =========================================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# =========================================
# JPA 설정
# =========================================
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.session.store-type=none

# =========================================
# JWT 설정
# =========================================
jwt.secret.key=test-secret-key-for-testing-purposes-only-12345678901234567890

# =========================================
# Rate Limiting 설정 (제한 해제)
# =========================================
rate-limit.email-send.requests-per-window=1000
rate-limit.email-send.window-duration-minutes=1
rate-limit.email-verify.requests-per-window=1000
rate-limit.email-verify.window-duration-minutes=1
rate-limit.signup.requests-per-window=1000
rate-limit.signup.window-duration-minutes=1
rate-limit.login.requests-per-window=1000
rate-limit.login.window-duration-minutes=1
rate-limit.refresh-token.requests-per-window=1000
rate-limit.refresh-token.window-duration-minutes=1

# =========================================
# Redis 완전 비활성화
# =========================================
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration

# =========================================
# 로깅 설정
# =========================================
logging.level.org.springframework.boot.test.mock.mockito=ERROR
logging.level.org.mockito=ERROR

# =========================================
# 애플리케이션 설정
# =========================================
app.environment.development=true

# =========================================
# 인증 설정
# =========================================
auth.security.min-response-time-ms=0
auth.security.dummy-hash=$2a$10$dummy.hash.for.testing
auth.security.max-login-attempts=5
auth.security.account-lock-duration-minutes=30

auth.token.access-token-validity-seconds=900
auth.token.refresh-token-validity-seconds=604800
auth.token.refresh-threshold-seconds=300

auth.redis.refresh-token-key-prefix=refresh_token:
auth.redis.user-tokens-key-prefix=user_tokens:
auth.redis.email-verification-key-prefix=email_verification:
auth.redis.jwt-blacklist-key-prefix=jwt:blacklist:

auth.messages.invalid-credentials=이메일 또는 비밀번호가 일치하지 않습니다.
auth.messages.invalid-refresh-token=유효하지 않은 리프레시 토큰입니다.
auth.messages.expired-refresh-token=만료되었거나 유효하지 않은 리프레시 토큰입니다.
auth.messages.user-not-found=사용자를 찾을 수 없습니다.
auth.messages.invalid-token-info=토큰 정보가 유효하지 않습니다.
auth.messages.account-locked=너무 많은 로그인 시도로 인해 계정이 일시적으로 잠겼습니다.
auth.messages.verification-code-expired=인증 코드가 만료되었거나 유효하지 않습니다.