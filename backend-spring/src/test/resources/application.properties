# =========================================
# 테스트 환경 전용 데이터베이스 설정
# H2 인메모리(In-memory) 데이터베이스를 사용하여 빠르고 독립적인 테스트를 지원합니다.
# =========================================

# H2 데이터베이스 연결 URL입니다.
# jdbc:h2:mem:testdb 는 'testdb'라는 이름의 인메모리 데이터베이스를 사용하겠다는 의미입니다.
# 인메모리 DB는 테스트 실행 중에만 메모리에서 동작하고 테스트가 끝나면 사라집니다.
spring.datasource.url=jdbc:h2:mem:testdb

# H2 데이터베이스용 JDBC 드라이버 클래스입니다.
spring.datasource.driverClassName=org.h2.Driver

# H2 데이터베이스 접속에 사용할 사용자 이름입니다.
# 인메모리 테스트에서는 보통 'sa' (System Administrator)를 관례적으로 사용합니다.
spring.datasource.username=sa

# H2 데이터베이스 접속에 사용할 비밀번호입니다.
# 마찬가지로 테스트용이므로 간단한 비밀번호를 사용하거나 비워두기도 합니다.
spring.datasource.password=password

# JPA가 H2 데이터베이스에 맞는 SQL 쿼리를 생성하도록 방언(Dialect)을 설정합니다.
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# =========================================
# 테스트 환경 전용 추가 설정
# =========================================

# 컨트롤러 테스트 시 불필요한 JDBC 기반 세션 기능을 비활성화하여
# 데이터베이스 설정 충돌 문제를 방지합니다.
spring.session.store-type=none

# =========================================
# 테스트용 Redis 설정
# =========================================
spring.data.redis.host=localhost
spring.data.redis.port=6379

# =========================================
# 테스트용 JWT 시크릿 키 설정
# 실제 키와는 다른, 테스트 전용 키를 사용합니다.
# @SpringBootTest 실행 시, @AuthenticationPrincipal 등을 사용하는 테스트는
# 실제 Security Filter 체인을 로드하므로, 이 설정이 없으면 JwtConfig Bean 생성에 실패합니다.
# 32바이트(256비트) 이상이어야 합니다.
# =========================================
jwt.secret.key=this-is-a-super-secret-key-for-testing-purpose-only